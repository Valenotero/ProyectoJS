<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Gestor de Presupuesto Personal</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>游눯</text></svg>">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.css" />
</head>

<body>
    <header class="header">
        <div class="container">
            <h1><i class="fas fa-wallet"></i> Gestor de Presupuesto</h1>
            <p class="subtitle">Dashboard - Vista general de tus finanzas</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav-tabs">
        <div class="container">
            <a href="../index.html" class="nav-tab">
                <i class="fas fa-home"></i> Inicio
            </a>
            <a href="dashboard.html" class="nav-tab">
                <i class="fas fa-chart-pie"></i> Dashboard
            </a>
            <a href="transacciones.html" class="nav-tab">
                <i class="fas fa-exchange-alt"></i> Transacciones
            </a>
            <a href="calendario.html" class="nav-tab">
                <i class="fas fa-calendar-alt"></i> Calendario
            </a>
            <a href="analisis.html" class="nav-tab">
                <i class="fas fa-chart-line"></i> An치lisis
            </a>
        </div>
    </nav>

    <main class="main-content">
        <div class="container">
            <!-- Period Selector -->
            <div class="period-selector">
                <div class="period-controls">
                    <label for="period-type">Per칤odo:</label>
                    <select id="period-type">
                        <option value="month">Mes Actual</option>
                        <option value="year">A침o Actual</option>
                        <option value="custom">Personalizado</option>
                        <option value="all">Todos los Per칤odos</option>
                    </select>
                    
                    <div id="custom-period" style="display: none; gap: 0.5rem;">
                        <input type="date" id="start-date">
                        <input type="date" id="end-date">
                        <button class="btn btn-secondary" id="apply-period">Aplicar</button>
                    </div>
                    
                    <span id="current-period-text" style="color: var(--text-light); font-weight: 500;"></span>
                </div>
            </div>

            <!-- Resumen del presupuesto -->
            <section class="budget-summary">
                <div class="summary-card income">
                    <div class="card-icon">
                        <i class="fas fa-arrow-up"></i>
                    </div>
                    <div class="card-content">
                        <h3>Ingresos</h3>
                        <p class="amount" id="total-income">$0.00</p>
                    </div>
                </div>
                
                <div class="summary-card expense">
                    <div class="card-icon">
                        <i class="fas fa-arrow-down"></i>
                    </div>
                    <div class="card-content">
                        <h3>Gastos</h3>
                        <p class="amount" id="total-expense">$0.00</p>
                    </div>
                </div>
                
                <div class="summary-card balance">
                    <div class="card-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <div class="card-content">
                        <h3>Saldo</h3>
                        <p class="amount" id="total-balance">$0.00</p>
                    </div>
                </div>
            </section>

            <!-- Gr치ficos -->
            <section class="charts-section">
                <div class="chart-card">
                    <h3><i class="fas fa-chart-pie"></i> Distribuci칩n del Presupuesto</h3>
                    <div class="chart-container">
                        <canvas id="budget-chart"></canvas>
                        <div id="chart-status" class="chart-status">
                            <p>Estado del gr치fico: <span id="chart-status-text">Inicializando...</span></p>
                        </div>
                    </div>
                </div>
                
                <div class="chart-card">
                    <h3><i class="fas fa-chart-line"></i> Tendencia Mensual</h3>
                    <div class="chart-container">
                        <canvas id="trend-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Resumen r치pido de transacciones recientes -->
            <section class="recent-transactions">
                <div class="transactions-header">
                    <h3><i class="fas fa-clock"></i> Transacciones Recientes</h3>
                    <a href="transacciones.html" class="btn btn-secondary">Ver Todas</a>
                </div>
                <div id="recent-transactions-list" class="transaction-list">
                    <!-- Las transacciones recientes se cargar치n aqu칤 -->
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Gestor de Presupuesto Personal. Todos los derechos reservados a Valent칤n Otero.</p>
        </div>
    </footer>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- JavaScript -->
    <script src="../js/script.js"></script>
    <script>
        // Inicializar solo funciones del dashboard
        document.addEventListener('DOMContentLoaded', () => {
            if (window.gestorPresupuesto) {
                gestorPresupuesto.inicializarDashboard();
            }
        });
    </script>
</body>

</html>